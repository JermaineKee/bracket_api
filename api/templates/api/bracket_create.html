{% extends "api/base.html" %}

{% block content %}

<p>Create a New Bracket</p>
<div id="new_competitor" class="bracket-create-form">
<form action="" method="post">
    {% csrf_token %}
    Title: <input type="text" class="bracket-title" name="Title" maxlength="36" size="12"/> <br/>

    <div id="competitors">
        Player 1: <input type="text" class="competitor-input" name="Competitor1" size="12" autocomplete="off" /><input type="button" id="add_competitor()" onClick="addCompetitor()" value="+" />
    </div>
    <p>
        <input type="submit" />
    </p>
</form>
</div>
<script type="text/javascript">
var i = 1;
function addCompetitor() {
    console.log('here');
    i++;
    var div = document.createElement('div');
    div.innerHTML = 'Player'+i+'<br><input type="text" class="competitor-input" name="Competitor"'+i+' size="12" autocomplete="off" /><input type="button" id="add_competitor()" onClick="addCompetitor()" value="+" /><input type="button" value="-" onClick="removeCompetitor(this)">';
    document.getElementById('competitors').appendChild(div);
}

function removeCompetitor(div) {
    document.getElementById('competitors').removeChild( div.parentNode );
    i--;
}
</script>

{% endblock %}

{% extends "api/base.html" %}

{% block content %}

<p>Create a New Bracket</p>
<div id="new_competitor" class="bracket-create-form">
<form action="" method="post">
    {% csrf_token %}
    Title<br/>
    <input type="text" class="bracket-title" name="Title" maxlength="36" size="12"/> <br/>
    <br/>
    Competitors<br/>
    <div id="competitors">
        <input type="text" class="new_competitor" name="Competitor1" size="12" autocomplete="off" placeholder="Competitor"/>
        <input type="text" class="new_competitor" name="Competitor_email1" size="12" autocomplete="off" placeholder="Email"/>
        <input type="text" class="new_competitor" name="Competitor_phone1" size="12" autocomplete="off" placeholder="Phone"/><div class="divider"></div>
    </div>
    <p><input type="button" id="add_competitor()" onClick="addCompetitor()" value="Add Competitor" /></p>
    <br/>
    <p><input type="submit" /></p>
</form>
</div>

<script type="text/javascript">
var i = 1;
function addCompetitor() {
    console.log('here');
    i++;
    var div = document.createElement('div');
    div.innerHTML = '<input type="text" class="competitor-input" name="Competitor'+i+'" size="12" autocomplete="off" placeholder="Competitor"/><input type="text" class="competitor-input" name="Competitor_email'+i+'" size="12" autocomplete="off" placeholder="Email"/><input type="text" class="competitor-phone" name="Competitor_phone'+i+'" size="12" autocomplete="off" placeholder="Phone"/><div class="divider"></div><i class="fa fa-trash-o fa-2x" onClick="removeCompetitor(this)">';
    document.getElementById('competitors').appendChild(div);
}

function removeCompetitor(div) {
    document.getElementById('competitors').removeChild( div.parentNode );
    i--;
}
</script>

{% endblock %}
